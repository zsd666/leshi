"use strict";$("ul > li").mouseover(function(){$("span").stop().animate({left:140*$(this).index()})});var cartList=JSON.parse(localStorage.getItem("cartList"));function bindHtml(){var t=cartList.every(function(t){return!0===t.isSelect}),n='\n        <div class="top">\n        <input type="checkbox" class="selectAll" '.concat(t?"checked":"",'>全选\n        <p class="p1">商品信息</p>\n        <p class="p2">操作</p>\n        <p class="p2">金额</p>\n        <p class="p2">数量</p>\n        <p class="p2">单价</p>\n      </div>\n      <div class="cart">\n      <ul class="center">\n        ');cartList.forEach(function(t){n+='\n          <li>\n          <h3>店铺名称:<span class="shops">'.concat(t.shop,'</span>\n          <p class="dizhi">发货地：').concat(t.location,'</p>\n          </h3>\n          <div class="select">\n            <input data-id=').concat(t.id,' class="selectOne" type="checkbox" ').concat(t.isSelect?"checked":"",'>\n            <img src="').concat(t.img,'" alt="">\n            <p class="name">').concat(t.name,'</p>\n            <p class="price">￥').concat(t.price,'</p>\n            <div class="number">\n              <button class="sub" data-id=').concat(t.id,'>-</button>\n              <input type="text" value="').concat(t.number,'">\n              <button class="add" data-id=').concat(t.id,'>+</button>\n\n            </div>\n            <p class="xiaoji">￥').concat(t.xiaoji.toFixed(2),'</p>\n            <div class="del" data-id=').concat(t.id,">删除</div>\n          </div>\n        </div>\n        </li>\n          ")});var c=cartList.filter(function(t){return t.isSelect}),a=0,i=0;c.forEach(function(t){a+=t.number,i+=t.xiaoji}),n+='\n        </ul>\n        <div class="bottom">\n          <button class="pay" '.concat(c.length?"":"disabled",'>去支付</button>\n          <p>合计（不含运费）： <span  class="colr">￥').concat(i.toFixed(2),'</span></p>\n          <p>选中商品数量为<span class="colr"> &nbsp;').concat(a,'</span></p>\n          <button class="clear">清空购物车</button>\n        </div>\n        '),$(".center").html(n)}function bindEvent(){$(".center").on("change",".selectAll",function(){var n=this;cartList.forEach(function(t){t.isSelect=n.checked}),bindHtml(),localStorage.setItem("cartList",JSON.stringify(cartList))}),$(".center").on("change",".selectOne",function(){var n=$(this).data("id");cartList.forEach(function(t){t.id===n&&(t.isSelect=!t.isSelect)}),bindHtml(),localStorage.setItem("cartList",JSON.stringify(cartList))}),$(".center").on("click",".sub",function(){var n=$(this).data("id");cartList.forEach(function(t){t.id===n&&(1<t.number&&t.number--,t.xiaoji=t.price*t.number)}),bindHtml(),localStorage.setItem("cartList",JSON.stringify(cartList))}),$(".center").on("click",".add",function(){var n=$(this).data("id");cartList.forEach(function(t){t.id===n&&(t.number++,t.xiaoji=t.number*t.price)}),bindHtml(),localStorage.setItem("cartList",JSON.stringify(cartList))}),$(".center").on("click",".del",function(){var t=$(this).data("id");console.log("把数组中 id 为 : "+t+" 的数去去掉, 从新渲染页面, 从新存储到 lcoalStorage")}),$(".center").on("click",".clear",function(){console.log("把数组清空"),console.log("从新渲染页面"),console.log("把空数组从新存储到 lcoalStorage 里面")})}cartList?(bindHtml(),bindEvent()):alert("您的购物车为空, 快去选购把");